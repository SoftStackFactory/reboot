<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <!-- <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button> -->
    <ion-title text-center>Wizard</ion-title>
  </ion-navbar>
</ion-header>

<ion-content >
    <!-- <div class="nav-start"> -->
      <!-- <button ion-button (click)="exit()" color="danger" id="end">Exit</button> -->
    <!-- </div> -->
    <div id="leftArrow" *ngIf="leftArrowVisible" (click)="back()">
      <ion-icon name="arrow-back"></ion-icon>
    </div>
    <div id="rightArrow" *ngIf="rightArrowVisible" (click)="next()">
      <ion-icon name="arrow-forward"></ion-icon>
    </div>
  <ion-slides (ionSlideWillChange)="slideChanged()" pager>
      <ion-slide  class="demo-slide">
        <div class='top-simple'>
          <ion-list class="simple-header list list-ios"  >
            <ion-list-header  class='item item-ios list-header list-header-ios'>
              <h1 class="h1">Welcome {{name}}!!</h1>
            </ion-list-header>
            <p class="h2">InTransition is an app designed for Veterans to transition into civilian life.
              This wizard will guide you through the app.<br><br>
              <strong> Swipe to the right to begin &#x27A4;</strong>
            </p>
          </ion-list> 
        </div>
      </ion-slide>
  
      <ion-slide class="demo-slide">
        <div class='top-demo'>
          <ion-list class="demo-header list list-ios">
            <ion-list-header class='item item-ios list-header list-header-ios'>
              <h1 class="h1">Dashboard</h1>
            </ion-list-header>
            <p class="h2">Here you will find links to the Timeline and Self Assessment section.
            Useful tips and links are also available.</p>
          </ion-list>
          <img  class= "demo-img" src='assets/imgs/dashboard2.png'>
        </div>
      </ion-slide>
  
      <ion-slide class="demo-slide">
        <div class='top-demo'>
          <ion-list class="demo-header list list-ios">
            <ion-list-header class='item item-ios list-header list-header-ios'>
              <h1 class="h1">Self Assessment</h1>
            </ion-list-header>
            <p class='h2'>Here you will be prompted to take an assessment of your finances, health, family, and
              more. Your results will be displayed in a chart.</p>
          </ion-list>
          <img class='demo-img' src='assets/imgs/selfassessment.png'>
        </div>
      </ion-slide>
  
      <ion-slide class="demo-slide">
        <div class='top-demo'>
          <ion-list class="demo-header list list-ios" >
            <ion-list-header class='item item-ios list-header list-header-ios'> 
              <h1 class="h1">Timeline</h1>
            </ion-list-header>
            <p class='h2'>This timeline will make your transition to civilian life smoother. Each section has to-do
                items to accomplish.
            </p>
          </ion-list>
          <img class='demo-img' src='assets/imgs/newTimeline.png'>
        </div>
      </ion-slide>

      <ion-slide  class="demo-slide">
        <div class='top-simple'>
          <ion-list class="simple-header list list-ios" >
            <ion-list-header class='item item-ios list-header list-header-ios'>
              <h1 class="h1">Questionnaire</h1>
            </ion-list-header>
            <p class="h2">Please fill out the questionnaire to get your military information.
              <br><br>
              <strong> Swipe to the right to begin &#x27A4;</strong>
            </p>
          </ion-list>
        </div>
      </ion-slide>
  
      <ion-slide class='quest-slide'>
        <div class='top-question'>
          <ion-list class="question-header list list-ios" >
            <ion-list-header class='inner-question-header item item-ios list-header list-header-ios'>
              <h1 class="h1">Questionnaire <ion-badge>1/3</ion-badge></h1>
            </ion-list-header>
            <p class='h2'>Tell us about yourself</p>
          </ion-list>
        
          <form [formGroup]="firstForm" class="form">
  
            <ion-card [class.invalid]="!firstForm.controls.branch.valid && (firstForm.controls.branch.touched || submitIntent)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  Select your military branch
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    class='ion-select'
                    (ionChange)="slideChanged()"
                    placeholder="Select&#x25BC;"
                    formControlName="branch"
                    [selectOptions] = 'branchOption'>
                    <ion-option value="Air Force">Air Force</ion-option>
                    <ion-option value="Army">Army</ion-option>
                    <ion-option value="Coast Guard">Coast Guard</ion-option>
                    <ion-option value="Marines">Marines</ion-option>
                    <ion-option value="Navy">Navy</ion-option> 
                  </ion-select>         
                </ion-item>
            
                <ion-item  no-lines *ngIf="!firstForm.controls.branch.valid && (firstForm.controls.branch.touched || submitIntent)" >
                  <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>
        
     
            <ion-card [class.invalid]="!firstForm.controls.vetOrActive.valid && (firstForm.controls.vetOrActive.touched || submitIntent)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  Are you an active member or a veteran?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    (ionChange)="slideChanged()"  
                    placeholder="Select &#x25BC;"
                    formControlName="vetOrActive"
                    [selectOptions] = 'vetOrActiveOptions'>
                    <ion-option value='Active'>Active</ion-option>
                    <ion-option value='Guard/Reserve'>Guard/Reserve</ion-option>                
                    <ion-option value='Veteran'>Veteran</ion-option>
                  </ion-select>
                </ion-item>
                <ion-item  *ngIf="!firstForm.controls.vetOrActive.valid && (firstForm.controls.vetOrActive.touched || submitIntent)" >
                  <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>
  
            <ion-card [class.invalid]="!firstForm.controls.separationDate.valid && (firstForm.controls.separationDate.touched ||submitIntent)" *ngIf="vetValue" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                {{SeparationQuestion}}
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-datetime *ngIf="firstForm.value.vetOrActive === 'Active'"
                    placeholder="Select&#x25BC;"
                    (ionChange)="slideChanged()"
                    #vetQuestionName
                    type="date"
                    formControlName="separationDate"
                    class='date'
                    displayFormat="MM/DD/YYYY" 
                    pickerFormat="MMMM DD YYYY" 
                    [max]="2050"
                    [min]="2018"
                  >
                  </ion-datetime>
                  <ion-datetime *ngIf="firstForm.value.vetOrActive === 'Guard/Reserve'"
                    placeholder="Select&#x25BC;"
                    (ionChange)="slideChanged()"
                    #vetQuestionName
                    type="date"
                    formControlName="separationDate"
                    class='date'
                    displayFormat="MM/DD/YYYY" 
                    pickerFormat="MMMM DD YYYY" 
                    [max]="2050"
                    [min]="2018"
                  >
                  </ion-datetime>
                  <ion-datetime *ngIf="firstForm.value.vetOrActive === 'Veteran'"
                  (ionChange)="slideChanged()"
                  placeholder="Select&#x25BC;"
                  #vetQuestionName
                  type="date"
                  formControlName="separationDate"
                  class='date'
                  displayFormat="MM/DD/YYYY" 
                  pickerFormat="MMMM DD YYYY" 
                  [max]="today"
                >
                </ion-datetime>
                </ion-item>
                <ion-item class="input" no-lines *ngIf="!firstForm.controls.separationDate.valid && (firstForm.controls.separationDate.touched || submitIntent)">
                  <p class="invalid-text">Enter a date</p>
                </ion-item>
              </ion-item-group>
            </ion-card>    
  
            <ion-card [class.invalid]="!firstForm.controls.disability.valid && (firstForm.controls.disability.touched || submitIntent)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                    Do you have any service disability?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    (ionChange)="slideChanged()"
                    placeholder="Select&#x25BC;"                    
                    formControlName="disability"
                    [selectOptions] = 'disabilityOptions'>
                    <ion-option value="Disability">Yes</ion-option>
                    <ion-option value="No Disability">No</ion-option>
                  </ion-select>
                </ion-item>
                <ion-item  no-lines *ngIf="!firstForm.controls.disability.valid && (firstForm.controls.disability.touched || submitIntent)" >
                  <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>
  
            <ion-card 
              [class.invalid]="!firstForm.controls.percentQuestion.valid && (firstForm.controls.percentQuestion.dirty || submitIntent)"
              *ngIf="disabilityQValue == 'Disability'"
              class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  What is your assigned disability rating (Percent)?
                </ion-item-divider>
                <ion-item>
                  <ion-input 
                  (ionChange)="slideChanged()"
                  class="input" 
                  type="number"
                  placeholder='Input Answer here..'
                  formControlName="percentQuestion"
                  >
                </ion-input>
                </ion-item>
                <ion-item class="input" *ngIf="!firstForm.controls.percentQuestion.valid && (firstForm.controls.percentQuestion.dirty || submitIntent)">
                  <p class="invalid-text" invalid-text>Enter a valid percent number from 1-100</p>
                </ion-item>
              </ion-item-group>
            </ion-card>   
  
          </form>
        </div>
      </ion-slide>
  
      <ion-slide class='quest-slide'>
        <div class='top-question'>
          <ion-list class="question-header list list-ios" >
            <ion-list-header class='inner-question-header item item-ios list-header list-header-ios'>
              <h1 class="h1">Questionnaire <ion-badge>2/3</ion-badge></h1> 
            </ion-list-header>
            <p class='h2'>Continue </p>
          </ion-list>
          
          <form [formGroup]="secondForm" class="form">
      
            <ion-card [class.invalid]="!secondForm.controls.employment.valid && secondForm.controls.employment.touched" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  Are you employed or unemployed?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    (ionChange)="slideChanged()"
                    placeholder="Select&#x25BC;"
                    formControlName="employment"
                    [selectOptions] = 'unemployedOptions'>
                    <ion-option value="Employed">Employed</ion-option>
                    <ion-option value="Unemployed">Unemployed</ion-option>
                  </ion-select>
                </ion-item>
                <ion-item *ngIf="!secondForm.controls.employment.valid && secondForm.controls.employment.touched" >
                  <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>
  
            <ion-card  [class.invalid]="!secondForm.controls.lastEmployed.valid && (secondForm.controls.lastEmployed.touched)" *ngIf="employedAnswer == 'Unemployed'" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                When were you last employed?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-datetime 
                    placeholder="Select&#x25BC;"
                    type="date"
                    class='date'
                    displayFormat="MM/YYYY" 
                    formControlName="lastEmployed"
                    displayFormat="MM/DD/YYYY" 
                    pickerFormat="MMMM DD YYYY" 
                    [max]="today"
                    (ionChange)="slideChanged()"
                  >
                  </ion-datetime>
                </ion-item>
                <ion-item class="input" *ngIf="!secondForm.controls.lastEmployed.valid && (secondForm.controls.lastEmployed.touched)">
                  <p class="invalid-text" invalid-text>Enter a date</p>
                </ion-item>
              </ion-item-group>
            </ion-card>    
  
            <ion-card  [class.invalid]="!secondForm.controls.marital.valid && (secondForm.controls.marital.touched)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                    What is you Marital Status?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                  placeholder="Select&#x25BC;"
                  formControlName="marital"
                  [selectOptions] = 'maritalOptions'
                  (ionChange)="slideChanged()">
                  <ion-option value="Married">Married</ion-option>
                  <ion-option value="Single">Single</ion-option>
                  <ion-option value="Widowed">Widowed</ion-option>
                  <ion-option value="Divorced">Divorced</ion-option>
                  <ion-option value="Separated">Separated</ion-option>
                </ion-select>
                </ion-item>
                <ion-item *ngIf="!secondForm.controls.marital.valid && (secondForm.controls.marital.touched)" >
                    <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>     
    
          </form>
        </div> 
      </ion-slide> 
  
      <ion-slide class= 'quest-slide'>
        <div class='top-question '>
          <ion-list class="question-header list list-ios" >
            <ion-list-header class='inner-question-header item item-ios list-header list-header-ios' >
              <h1 class="h1">Questionnaire <ion-badge>3/3</ion-badge> </h1> 
            </ion-list-header>
            <p class='h2'>Continue</p>
          </ion-list>
            
          <form [formGroup]="thirdForm" class="form">
  
            <ion-card [class.invalid]="!thirdForm.controls.rank.valid && (thirdForm.controls.rank.dirty)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  What is your military rank?
                </ion-item-divider>
                <ion-item>
                  <!-- <ion-input 
                  type="text"
                  placeholder='Input Answer here..'
                  formControlName="rank"
                  >
                  </ion-input> -->
                  <ion-select 
                    placeholder="Select&#x25BC;"
                    formControlName="rank"
                    (ionChange)="slideChanged()"
                    [selectOptions] = 'rankOptions'>
                    <ion-option value="O1">O1</ion-option>
                    <ion-option value="O2">O2</ion-option>
                    <ion-option value="O3">O3</ion-option>
                    <ion-option value="O4">O4</ion-option>
                    <ion-option value="O5">O5</ion-option>
                    <ion-option value="O6">O6</ion-option>
                    <ion-option value="O7">O7</ion-option>
                    <ion-option value="E1">E1</ion-option>
                    <ion-option value="E2">E2</ion-option>
                    <ion-option value="E3">E3</ion-option>
                    <ion-option value="E4">E4</ion-option>
                    <ion-option value="E5">E5</ion-option>
                    <ion-option value="E6">E6</ion-option>
                    <ion-option value="E7">E7</ion-option>
                    <ion-option value="E8">E8</ion-option>
                    <ion-option value="E9">E9</ion-option>
                  </ion-select>
                  </ion-item>               
                
                <!-- <ion-item class="input" *ngIf="!thirdForm.controls.rank.valid && (thirdForm.controls.rank.dirty)">
                  <p class="invalid-text" invalid-text>Enter only letters</p>
                </ion-item> -->
              </ion-item-group>
            </ion-card>
            
            <!-- <ion-card  [class.invalid]="!thirdForm.controls.insignia.valid && (thirdForm.controls.insignia.touched)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  What is you officer rank insignia?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    placeholder="Select&#x25BC;"
                    formControlName="insignia"
                    [selectOptions] = 'insigniaOptions'>
                    <ion-option value="O1">O1</ion-option>
                    <ion-option value="O2">O2</ion-option>
                    <ion-option value="O3">O3</ion-option>
                    <ion-option value="O4">O4</ion-option>
                    <ion-option value="O5">O5</ion-option>
                    <ion-option value="O6">O6</ion-option>
                    <ion-option value="O7">O7</ion-option>
                </ion-select>
                </ion-item>
                <ion-item *ngIf="!thirdForm.controls.insignia.valid && (thirdForm.controls.insignia.touched)" >
                    <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card> -->
          
            <!-- <ion-card  [class.invalid]="!thirdForm.controls.enlistedPay.valid && (thirdForm.controls.enlistedPay.touched)" *ngIf="vetValue == 'Active'"class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  What is you enlisted pay rank?
                </ion-item-divider>
                <ion-item class="q-wrapper">
                  <ion-select 
                    placeholder="Select&#x25BC;"
                    formControlName="enlistedPay"
                    [selectOptions] = 'enlistedPayOptions'>
                    <ion-option value="e1">e1</ion-option>
                    <ion-option value="e2">e2</ion-option>
                    <ion-option value="e3">e3</ion-option>
                    <ion-option value="e4">e4</ion-option>
                    <ion-option value="e5">e5</ion-option>
                    <ion-option value="e6">e6</ion-option>
                    <ion-option value="e7">e7</ion-option>
                    <ion-option value="e8">e8</ion-option>
                    <ion-option value="e9">e9</ion-option>
                </ion-select>
                </ion-item>
                <ion-item *ngIf="!thirdForm.controls.enlistedPay.valid && (thirdForm.controls.enlistedPay.touched)" >
                  <p class="invalid-text">Enter an option</p>
                </ion-item>
              </ion-item-group>
            </ion-card>      -->

            <ion-card [class.invalid]="!thirdForm.controls.MOS.valid && (thirdForm.controls.MOS.dirty)" class="card-wrapper">
              <ion-item-group>
                <ion-item-divider class='q-group' color="light">
                  What is your job identifier code?
                </ion-item-divider>
                <ion-item>
                  <ion-input 
                
                  placeholder='Input Answer here..'
                  formControlName="MOS"
                  (ionChange)="slideChanged()"
                  >
                  </ion-input>
                </ion-item>
                <ion-item class="input" *ngIf="!thirdForm.controls.MOS.valid && (thirdForm.controls.MOS.dirty)">
                  <p class="invalid-text" invalid-text>{{codeErrorMessage}}</p>
                </ion-item>
              </ion-item-group>
            </ion-card>
            <br><br>
          <button ion-button id ="submit" [disabled]="!thirdForm.valid" (click)="onSubmit()" >Submit</button>
  
          </form>
        </div>
      </ion-slide>
  
      <ion-slide class="demo-slide">
        <div class='top-simple'>
          <ion-list class="simple-header list list-ios" >
            <ion-list-header class='item item-ios list-header list-header-ios'>
              <h1 id="end-wizard-h" class="h1">Thank you for completing the InTransition Questionnaire.</h1>
            </ion-list-header>
            <p class="h2">You may go to the Dashboard or take the Self Assessment.</p>
          </ion-list >
        
          <ion-grid>
            <ion-row justify-content-center>
              <ion-col col-12 col-sm-5 col-md-auto>
                <button class="button1" (click)="setDashboardPage()" ion-button>Dashboard</button>
              </ion-col>
              <ion-col col-12 col-sm-5 col-md-auto> 
                <button class='button1' (click)="setAssessmentPage()" ion-button>Assessment</button> 
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </ion-slide>
    </ion-slides>
    <button ion-button (click)="exit()" color="danger" block>Exit</button>
</ion-content>
